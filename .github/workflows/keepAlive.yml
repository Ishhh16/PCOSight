name: Keep Render Alive

on:
  schedule:
    - cron: "*/14 * * * *" # Every 14 minutes
  workflow_dispatch:

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Render Backend
        run: |
          STATUS=$(curl -s -o /dev/null -w "%{http_code}" https://pcosight.onrender.com)
          echo "Status code: $STATUS"
          if [ "$STATUS" -ne 200 ]; then
            echo "⚠️ Warning: Backend returned $STATUS"
            exit 1
          fi
          echo "✅ Backend is alive and returned 200 OK"
